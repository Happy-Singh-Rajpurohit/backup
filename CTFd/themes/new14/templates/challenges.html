{% extends "base.html" %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ url_for('views.themes', path='css/challenge-board.css') }}">
	<style>
		/* Full Page Cyber Decorations */
		body {
			position: relative;
			overflow-x: hidden;
		}
		
		/* Left Side - Full Page Height Circuit Lines */
		.page-cyber-left {
			position: fixed;
			left: 0;
			top: 0;
			width: 250px;
			height: 100vh;
			pointer-events: none;
			opacity: 0.7;
			z-index: 999;
		}
		
		.page-cyber-left svg {
			width: 100%;
			height: 100%;
		}
		
		/* Right Side - Full Page Height Digital Particles */
		.page-cyber-right {
			position: fixed;
			right: 0;
			top: 0;
			width: 250px;
			height: 100vh;
			pointer-events: none;
			opacity: 0.7;
			z-index: 999;
		}
		
		/* Particle animations */
		@keyframes float-particle {
			0%, 100% {
				transform: translateY(0) translateX(0);
				opacity: 0.4;
			}
			25% {
				transform: translateY(-20px) translateX(10px);
				opacity: 0.8;
			}
			50% {
				transform: translateY(-10px) translateX(-10px);
				opacity: 0.5;
			}
			75% {
				transform: translateY(-25px) translateX(8px);
				opacity: 0.7;
			}
		}
		
		.page-particle {
			position: absolute;
			width: 5px;
			height: 5px;
			background: #00ffff;
			border-radius: 50%;
			box-shadow: 0 0 12px rgba(0, 255, 255, 1), 0 0 20px rgba(0, 255, 255, 0.5);
			animation: float-particle 5s ease-in-out infinite;
		}
		
		/* Distribute particles across full height */
		.page-particle:nth-child(1) { top: 5%; right: 20%; animation-delay: 0s; width: 7px; height: 7px; }
		.page-particle:nth-child(2) { top: 12%; right: 15%; animation-delay: 0.8s; }
		.page-particle:nth-child(3) { top: 18%; right: 25%; animation-delay: 1.6s; width: 6px; height: 6px; }
		.page-particle:nth-child(4) { top: 25%; right: 10%; animation-delay: 2.4s; }
		.page-particle:nth-child(5) { top: 32%; right: 30%; animation-delay: 0.4s; width: 8px; height: 8px; }
		.page-particle:nth-child(6) { top: 38%; right: 18%; animation-delay: 1.2s; }
		.page-particle:nth-child(7) { top: 45%; right: 22%; animation-delay: 2s; width: 6px; height: 6px; }
		.page-particle:nth-child(8) { top: 52%; right: 12%; animation-delay: 2.8s; }
		.page-particle:nth-child(9) { top: 58%; right: 28%; animation-delay: 0.6s; width: 7px; height: 7px; }
		.page-particle:nth-child(10) { top: 65%; right: 16%; animation-delay: 1.4s; }
		.page-particle:nth-child(11) { top: 72%; right: 24%; animation-delay: 2.2s; }
		.page-particle:nth-child(12) { top: 78%; right: 14%; animation-delay: 1s; width: 6px; height: 6px; }
		.page-particle:nth-child(13) { top: 85%; right: 26%; animation-delay: 1.8s; }
		.page-particle:nth-child(14) { top: 92%; right: 20%; animation-delay: 2.6s; width: 7px; height: 7px; }
		.page-particle:nth-child(15) { top: 8%; right: 32%; animation-delay: 0.2s; }
		.page-particle:nth-child(16) { top: 42%; right: 8%; animation-delay: 1.5s; width: 8px; height: 8px; }
		
		/* Circuit glow animation */
		@keyframes circuit-glow {
			0%, 100% {
				opacity: 0.5;
				filter: drop-shadow(0 0 3px rgba(0, 255, 255, 0.5));
			}
			50% {
				opacity: 0.9;
				filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.9));
			}
		}
		
		.page-cyber-left svg {
			animation: circuit-glow 2.5s ease-in-out infinite;
		}
		
		.cryptix-banner-section {
			background-color: #000000;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 0;
			margin: 0;
			margin-top: -20px;
			max-height: 120px;
			overflow: hidden;
		}
		.cryptix-banner-section img {
			max-width: 100%;
			width: 100%;
			height: auto;
			max-height: 120px;
			display: block;
			object-fit: contain;
		}
		.challenge-instructions {
			background-color: #000000;
			text-align: center;
			padding: 3rem 1rem;
			margin: 0;
			position: relative;
			overflow: hidden;
			min-height: 150px;
		}
		.challenge-instructions h3 {
			color: #00ffff;
			font-size: 1.5rem;
			font-weight: 400;
			margin: 0;
			text-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
			position: relative;
			z-index: 2;
		}
		
		@media (max-width: 768px) {
			.cryptix-banner-section {
				padding: 0;
				max-height: 80px;
			}
			.cryptix-banner-section img {
				max-height: 80px;
			}
			.challenge-instructions {
				padding: 2rem 0.5rem;
				min-height: 120px;
			}
			.challenge-instructions h3 {
				font-size: 1.2rem;
			}
			.page-cyber-left,
			.page-cyber-right {
				width: 150px;
				opacity: 0.5;
			}
			.page-particle {
				width: 4px;
				height: 4px;
			}
		}
	</style>
{% endblock %}

{% block content %}
<!-- Full Page Cyber Decorations - Left Side -->
<div class="page-cyber-left">
	<svg width="100%" height="100%" viewBox="0 0 250 1000" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin slice">
		<!-- Top Section Circuits -->
		<line x1="0" y1="50" x2="100" y2="50" stroke="#00ffff" stroke-width="2.5" opacity="0.8"/>
		<circle cx="100" cy="50" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" repeatCount="indefinite"/>
		</circle>
		<line x1="100" y1="50" x2="100" y2="100" stroke="#00ffff" stroke-width="2.5" opacity="0.8"/>
		<circle cx="100" cy="100" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="0.3s" repeatCount="indefinite"/>
		</circle>
		<line x1="100" y1="100" x2="170" y2="100" stroke="#00ffff" stroke-width="2.5" opacity="0.8"/>
		
		<!-- Middle Section Circuits -->
		<line x1="0" y1="200" x2="80" y2="200" stroke="#00ffff" stroke-width="2.5" opacity="0.7"/>
		<circle cx="80" cy="200" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="0.6s" repeatCount="indefinite"/>
		</circle>
		<line x1="80" y1="200" x2="80" y2="260" stroke="#00ffff" stroke-width="2.5" opacity="0.7"/>
		<circle cx="80" cy="260" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="0.9s" repeatCount="indefinite"/>
		</circle>
		<line x1="80" y1="260" x2="150" y2="260" stroke="#00ffff" stroke-width="2.5" opacity="0.7"/>
		
		<line x1="0" y1="350" x2="120" y2="350" stroke="#00ffff" stroke-width="2.5" opacity="0.7"/>
		<circle cx="120" cy="350" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="1.2s" repeatCount="indefinite"/>
		</circle>
		<line x1="120" y1="350" x2="120" y2="400" stroke="#00ffff" stroke-width="2.5" opacity="0.7"/>
		
		<!-- Lower Middle Section -->
		<line x1="0" y1="500" x2="90" y2="500" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		<circle cx="90" cy="500" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="1.5s" repeatCount="indefinite"/>
		</circle>
		<line x1="90" y1="500" x2="90" y2="560" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		<circle cx="90" cy="560" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="1.8s" repeatCount="indefinite"/>
		</circle>
		<line x1="90" y1="560" x2="160" y2="560" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		
		<!-- Bottom Section Circuits -->
		<line x1="0" y1="700" x2="110" y2="700" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		<circle cx="110" cy="700" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="0.5s" repeatCount="indefinite"/>
		</circle>
		<line x1="110" y1="700" x2="110" y2="760" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		
		<line x1="0" y1="850" x2="130" y2="850" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		<circle cx="130" cy="850" r="4" fill="#00ffff" opacity="1">
			<animate attributeName="r" values="4;6;4" dur="2s" begin="1s" repeatCount="indefinite"/>
		</circle>
		<line x1="130" y1="850" x2="130" y2="920" stroke="#00ffff" stroke-width="2.5" opacity="0.6"/>
		
		<!-- Diagonal Connections -->
		<line x1="40" y1="150" x2="80" y2="190" stroke="#00ffff" stroke-width="2" opacity="0.5"/>
		<line x1="50" y1="300" x2="90" y2="340" stroke="#00ffff" stroke-width="2" opacity="0.5"/>
		<line x1="60" y1="600" x2="100" y2="640" stroke="#00ffff" stroke-width="2" opacity="0.5"/>
		<line x1="45" y1="800" x2="85" y2="840" stroke="#00ffff" stroke-width="2" opacity="0.5"/>
		
		<!-- Small Circuit Nodes -->
		<circle cx="30" cy="120" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="50" cy="180" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="110" cy="230" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="60" cy="320" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="140" cy="450" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="70" cy="620" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="100" cy="780" r="2.5" fill="#00ffff" opacity="0.8"/>
		<circle cx="120" cy="900" r="2.5" fill="#00ffff" opacity="0.8"/>
	</svg>
</div>

<!-- Full Page Cyber Decorations - Right Side -->
<div class="page-cyber-right">
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
	<div class="page-particle"></div>
</div>

<div class="cryptix-banner-section">
	<img src="{{ url_for('views.themes', path='img/cryptix-banner.jpg') }}" alt="CRYPTIX">
</div>

<div class="challenge-instructions">
	<h3>Solve the below questions to get points</h3>
</div>

<div class="modal fade" id="challenge-window" tabindex="-1" role="dialog">
</div>

<div class="container">
	<div class="row">
		<div class="col-md-12">
			{% include "components/errors.html" %}
		</div>
	</div>

	<div id='challenges-board'>
		<div class="min-vh-50 d-flex align-items-center">
			<div class="text-center w-100">
				<i class="fas fa-circle-notch fa-spin fa-3x fa-fw spinner"></i>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}

{% block entrypoint %}
	<script defer src="{{ url_for('views.themes', path='js/pages/challenges.js') }}"></script>
{% endblock %}
